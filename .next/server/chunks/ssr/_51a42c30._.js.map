{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,6WAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,6WAAC;YACC,aAAU;YACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6WAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/components/ui/switch.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        \"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AACA;AAEA;;;;AAEA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6WAAC,+QAAA,CAAA,OAAoB;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,6WACA;QAED,GAAG,KAAK;kBAET,cAAA,6WAAC,+QAAA,CAAA,QAAqB;YACpB,aAAU;YACV,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/store/productStore.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { create } from \"zustand\";\r\nimport { useQuery, QueryClient } from \"@tanstack/react-query\";\r\nimport { ProductData, } from \"@/schema/product\"; // Adjust the import based on your project structure\r\n\r\ninterface ProductState {\r\n  selectedProductId: string | null;\r\n  isCreatingProduct: boolean;\r\n  filters: {\r\n    showInactive: boolean;\r\n    searchTerm: string;\r\n    sortBy: 'name' | 'price' | 'stockCount' | 'createdAt';\r\n    sortOrder: 'asc' | 'desc';\r\n  };\r\n  \r\n  // Actions\r\n  selectProduct: (id: string | null) => void;\r\n  setCreatingProduct: (creating: boolean) => void;\r\n  toggleShowInactive: () => void;\r\n  setSearchTerm: (term: string) => void;\r\n  setSorting: (field: ProductState['filters']['sortBy'], order: ProductState['filters']['sortOrder']) => void;\r\n  \r\n  // API interactions\r\n  fetchProducts: () => Promise<ProductData[]>;\r\n  fetchProductById: (id: string) => Promise<ProductData>;\r\n  createProduct: (data: ProductData) => Promise<ProductData>;\r\n  updateProduct: (id: string, data: ProductData) => Promise<ProductData>;\r\n  deleteProduct: (id: string) => Promise<void>;\r\n  invalidateProducts: () => Promise<void>;\r\n}\r\n\r\n// Create the store\r\nexport const useProductStore = create<ProductState>((set, get) => ({\r\n  selectedProductId: null,\r\n  isCreatingProduct: false,\r\n  filters: {\r\n    showInactive: false,\r\n    searchTerm: '',\r\n    sortBy: 'createdAt',\r\n    sortOrder: 'desc',\r\n  },\r\n  \r\n  // Actions\r\n  selectProduct: (id) => set({ selectedProductId: id }),\r\n  setCreatingProduct: (creating) => set({ isCreatingProduct: creating }),\r\n  toggleShowInactive: () => set((state) => ({ \r\n    filters: { \r\n      ...state.filters, \r\n      showInactive: !state.filters.showInactive \r\n    } \r\n  })),\r\n  setSearchTerm: (term) => set((state) => ({\r\n    filters: {\r\n      ...state.filters,\r\n      searchTerm: term\r\n    }\r\n  })),\r\n  setSorting: (field, order) => set((state) => ({\r\n    filters: {\r\n      ...state.filters,\r\n      sortBy: field,\r\n      sortOrder: order\r\n    }\r\n  })),\r\n  \r\n  // API interactions\r\n  fetchProducts: async () => {\r\n    const res = await fetch(\"/api/dashboard/products\", {\r\n      headers: { Accept: \"application/json\" },\r\n    });\r\n    if (!res.ok) throw new Error(\"Failed to fetch products\");\r\n    return res.json();\r\n  },\r\n  \r\n  fetchProductById: async (id) => {\r\n    const res = await fetch(`/api/dashboard/products/${id}`, {\r\n      headers: { Accept: \"application/json\" },\r\n    });\r\n    if (!res.ok) throw new Error(\"Failed to fetch product\");\r\n    return res.json();\r\n  },\r\n  \r\n  createProduct: async (data) => {\r\n    const res = await fetch(\"/api/dashboard/products\", {\r\n      method: \"POST\",\r\n      headers: { \r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\" \r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n    if (!res.ok) {\r\n      const error = await res.json();\r\n      throw new Error(error.message || \"Failed to create product\");\r\n    }\r\n    await get().invalidateProducts();\r\n    return res.json();\r\n  },\r\n  \r\n  updateProduct: async (id, data) => {\r\n    const res = await fetch(`/api/dashboard/products/${id}`, {\r\n      method: \"PATCH\",\r\n      headers: { \r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\" \r\n      },\r\n      body: JSON.stringify(data)\r\n    });\r\n    if (!res.ok) {\r\n      const error = await res.json();\r\n      throw new Error(error.message || \"Failed to update product\");\r\n    }\r\n    await get().invalidateProducts();\r\n    return res.json();\r\n  },\r\n  \r\n  deleteProduct: async (id) => {\r\n    const res = await fetch(`/api/dashboard/products/${id}`, {\r\n      method: \"DELETE\"\r\n    });\r\n    if (!res.ok) {\r\n      const error = await res.json();\r\n      throw new Error(error.message || \"Failed to delete product\");\r\n    }\r\n    await get().invalidateProducts();\r\n  },\r\n  \r\n  invalidateProducts: async () => {\r\n    const queryClient = new QueryClient();\r\n    await queryClient.invalidateQueries({ queryKey: [\"products\"] });\r\n  }\r\n}));\r\n\r\n// Custom hook for accessing filtered products\r\nexport function useFilteredProducts() {\r\n  const { showInactive, searchTerm, sortBy, sortOrder } = useProductStore((state) => state.filters);\r\n  const fetchProducts = useProductStore((state) => state.fetchProducts);\r\n  \r\n  return useQuery<ProductData[]>({\r\n    queryKey: [\"products\", { showInactive, searchTerm, sortBy, sortOrder }],\r\n    queryFn: fetchProducts,\r\n    select: (data) => {\r\n      let filtered = data;\r\n      \r\n      // Filter by active status if needed\r\n      if (!showInactive) {\r\n        filtered = filtered.filter(product => product.isActive);\r\n      }\r\n      \r\n      // Filter by search term if provided\r\n      if (searchTerm) {\r\n        const term = searchTerm.toLowerCase();\r\n        filtered = filtered.filter(product => \r\n          product.name.toLowerCase().includes(term)\r\n        );\r\n      }\r\n      \r\n      // Sort the data\r\n      filtered = [...filtered].sort((a, b) => {\r\n        const valueA = a[sortBy];\r\n        const valueB = b[sortBy];\r\n        \r\n        // Handle string comparison\r\n        if (typeof valueA === 'string' && typeof valueB === 'string') {\r\n          return sortOrder === 'asc' \r\n            ? valueA.localeCompare(valueB)\r\n            : valueB.localeCompare(valueA);\r\n        }\r\n        \r\n        // Handle number comparison\r\n        return sortOrder === 'asc' \r\n          ? (valueA as number) - (valueB as number)\r\n          : (valueB as number) - (valueA as number);\r\n      });\r\n      \r\n      return filtered;\r\n    }\r\n  });\r\n}\r\n\r\n// Custom hook for accessing a single product by ID\r\nexport function useProduct(id: string | null) {\r\n  const fetchProductById = useProductStore((state) => state.fetchProductById);\r\n  \r\n  return useQuery<ProductData>({\r\n    queryKey: [\"product\", id],\r\n    queryFn: () => fetchProductById(id as string),\r\n    enabled: !!id // Only run the query if an ID is provided\r\n  });\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/app/dashboard/products/delete-product-button.tsx"],"sourcesContent":["// app/dashboard/products/delete-product-button.tsx\r\n\"use client\";\r\n\r\nimport { use, useState } from \"react\";\r\nimport { useProductStore } from \"@/store/productStore\";\r\nimport { Trash2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface DeleteProductButtonProps {\r\n  productId: string;\r\n}\r\n\r\nexport function DeleteProductButton({ productId }: DeleteProductButtonProps) {\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    if (!confirm(\"Are you sure you want to delete this product?\")) return;\r\n\r\n    try {\r\n     useProductStore.getState().deleteProduct(productId);\r\n      setIsDeleting(true);\r\n    } catch (err) {\r\n      console.error(\"Error deleting product:\", err);\r\n      alert(\"Failed to delete product\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      variant=\"ghost\"\r\n      size=\"sm\"\r\n      onClick={handleDelete}\r\n      disabled={isDeleting}\r\n    >\r\n      <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n    </Button>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,mDAAmD;;;;;AAGnD;AACA;AACA;AACA;AALA;;;;;;AAWO,SAAS,oBAAoB,EAAE,SAAS,EAA4B;IACzE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe;QACnB,IAAI,CAAC,QAAQ,kDAAkD;QAE/D,IAAI;YACH,qHAAA,CAAA,kBAAe,CAAC,QAAQ,GAAG,aAAa,CAAC;YACxC,cAAc;QAChB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,6WAAC,2HAAA,CAAA,SAAM;QACL,SAAQ;QACR,MAAK;QACL,SAAS;QACT,UAAU;kBAEV,cAAA,6WAAC,8RAAA,CAAA,SAAM;YAAC,WAAU;;;;;;;;;;;AAGxB","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Russell/Downloads/AI-Projects/Mesza/mesza-app/app/dashboard/products/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Plus, Pencil, Package, Search, ArrowUpDown } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { DeleteProductButton } from \"./delete-product-button\";\r\nimport { useProductStore, useFilteredProducts } from \"@/store/productStore\";\r\nimport { ProductData } from \"@/schema/product\";\r\n\r\nexport default function ProductsPage() {\r\n  // Get state and actions from Zustand\r\n  const { \r\n    toggleShowInactive, \r\n    setCreatingProduct, \r\n    isCreatingProduct,\r\n    setSearchTerm,\r\n    setSorting,\r\n    filters: { showInactive, sortBy, sortOrder }\r\n  } = useProductStore();\r\n  \r\n  // Get filtered products using our custom hook\r\n  const { data: products = [], isLoading, isError } = useFilteredProducts();\r\n  \r\n  // Local state for search input (debounced before updating store)\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  \r\n  // Handle search with debounce\r\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = e.target.value;\r\n    setSearchInput(value);\r\n    \r\n    // Debounce search term updates\r\n    const timeoutId = setTimeout(() => {\r\n      setSearchTerm(value);\r\n    }, 300);\r\n    \r\n    return () => clearTimeout(timeoutId);\r\n  };\r\n  \r\n  // Handle column sorting\r\n  const handleSort = (column: typeof sortBy) => {\r\n    if (sortBy === column) {\r\n      // Toggle order if already sorting by this column\r\n      setSorting(column, sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      // Default to ascending for new column\r\n      setSorting(column, 'asc');\r\n    }\r\n  };\r\n  \r\n  // Helper to render sort indicator\r\n  const getSortIndicator = (column: typeof sortBy) => {\r\n    if (sortBy !== column) return null;\r\n    \r\n    return (\r\n      <span className=\"ml-1\">\r\n        {sortOrder === 'asc' ? '↑' : '↓'}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  if (isLoading) return <div className=\"p-6 text-center\">Loading...</div>;\r\n  if (isError) return <div className=\"p-6 text-center text-red-500\">Failed to load products.</div>;\r\n\r\n  if (!products.length && !searchInput) {\r\n    return (\r\n      <div className=\"p-6 flex flex-col items-center justify-center h-64 bg-gray-50 rounded-lg border border-dashed\">\r\n        <Package className=\"h-12 w-12 text-gray-400 mb-4\" />\r\n        <h3 className=\"text-lg font-medium mb-2\">No products found</h3>\r\n        <p className=\"text-gray-500 mb-4 text-center max-w-md\">\r\n          Get started by creating your first product to display in your store.\r\n        </p>\r\n        <Button onClick={() => setCreatingProduct(true)}>\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          Add New Product\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Products</h1>\r\n        <div className=\"flex gap-4 items-center\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <Switch \r\n              checked={showInactive} \r\n              onCheckedChange={toggleShowInactive}\r\n            />\r\n            <span className=\"text-sm\">Show inactive</span>\r\n          </div>\r\n          \r\n          <Button onClick={() => setCreatingProduct(true)}>\r\n            <Plus className=\"mr-2 h-4 w-4\" />\r\n            Add Product\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"mb-4\">\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500\" />\r\n          <Input\r\n            type=\"search\"\r\n            placeholder=\"Search products...\"\r\n            className=\"pl-8\"\r\n            value={searchInput}\r\n            onChange={handleSearchChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {products.length > 0 ? (\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead className=\"cursor-pointer\" onClick={() => handleSort('name')}>\r\n                Name {getSortIndicator('name')}\r\n              </TableHead>\r\n              <TableHead className=\"cursor-pointer\" onClick={() => handleSort('price')}>\r\n                Price {getSortIndicator('price')}\r\n              </TableHead>\r\n              <TableHead className=\"cursor-pointer\" onClick={() => handleSort('stockCount')}>\r\n                Stock {getSortIndicator('stockCount')}\r\n              </TableHead>\r\n              <TableHead>Status</TableHead>\r\n              <TableHead className=\"cursor-pointer\" onClick={() => handleSort('createdAt')}>\r\n                Created {getSortIndicator('createdAt')}\r\n              </TableHead>\r\n              <TableHead className=\"text-right\">Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {products.map((product) => (\r\n              <TableRow key={product._id}>\r\n                <TableCell className=\"font-medium\">{product.name}</TableCell>\r\n                <TableCell>${product.price.toFixed(2)}</TableCell>\r\n                <TableCell>{product.stockCount}</TableCell>\r\n                <TableCell>\r\n                  <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                    product.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\r\n                  }`}>\r\n                    {product.isActive ? 'Active' : 'Inactive'}\r\n                  </span>\r\n                </TableCell>\r\n                <TableCell>{product.createdAt ? new Date(product.createdAt).toLocaleDateString() : 'N/A'}</TableCell>\r\n                <TableCell className=\"text-right\">\r\n                  <div className=\"flex justify-end gap-2\">\r\n                    <Link href={`/dashboard/products/${product._id}`}>\r\n                      <Button size=\"sm\" variant=\"outline\">\r\n                        <Pencil className=\"h-4 w-4\" />\r\n                        <span className=\"sr-only\">Edit</span>\r\n                      </Button>\r\n                    </Link>\r\n                    <DeleteProductButton \r\n                      productId={product._id} \r\n                      \r\n                      \r\n                    />  \r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      ) : (\r\n        <div className=\"text-center p-8 bg-gray-50 rounded-lg\">\r\n          <p>No products match your search criteria.</p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Product Form Dialog\r\n      {isCreatingProduct && (\r\n        <ProductFormDialog\r\n          open={isCreatingProduct}\r\n          onClose={() => setCreatingProduct(false)}\r\n        />\r\n      )} */}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}